function IdPSelectLanguages(){this.langBundles={en:{"fatal.divMissing":'<div> specified  as "insertAtDiv" could not be located in the HTML',"fatal.noXMLHttpRequest":"Browser does not support XMLHttpRequest, unable to load IdP selection data","fatal.wrongProtocol":'Policy supplied to DS was not "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId supplied by SP did not match configuration","fatal.noData":"Metadata download returned no data","fatal.loadFailed":"Failed to download metadata from ","fatal.noparms":"No parameters to discovery session and no defaultReturn parameter configured","fatal.noReturnURL":"No URL return parameter provided","fatal.badProtocol":"Return request must start with https:// or http://","idpPreferred.label":"Use a suggested selection:","idpEntry.label":"Or enter your organization's name","idpEntry.NoPreferred.label":"Enter your organization's name","idpList.label":"Or select your organization from the list below","idpList.NoPreferred.label":"Select your organization from the list below","idpList.defaultOptionLabel":"Please select your organization...","idpList.showList":"Allow me to pick from a list","idpList.showSearch":"Allow me to specify the site","submitButton.label":"Continue",helpText:"Help",defaultLogoAlt:"DefaultLogo"},de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterst\u00fctzt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter f\u00fcr das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parmeter fehlt","fatal.badProtocol":"return Request muss mit https:// oder http:// beginnen","idpPreferred.label":"Vorherige Auswahl:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) an:","idpEntry.NoPreferred.label":"Namen (oder Teile davon) der Institution angeben:","idpList.label":"Oder w\u00e4hlen Sie Ihre Institution aus einer Liste:","idpList.NoPreferred.label":"Institution aus folgender Liste w\u00e4hlen:","idpList.defaultOptionLabel":"W\u00e4hlen Sie Ihre Institution aus...","idpList.showList":"Institution aus einer Liste w\u00e4hlen","idpList.showSearch":"Institution selbst angeben","submitButton.label":"OK",helpText:"Hilfe",defaultLogoAlt:"Standard logo"},ja:{"fatal.divMissing":'"insertAtDiv" の ID を持つ <div> が HTML 中に存在しません',"fatal.noXMLHttpRequest":"ブラウザが XMLHttpRequest をサポートしていないので IdP 情報を取得できません","fatal.wrongProtocol":'DSへ渡された Policy パラメータが "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single" ではありません',"fatal.wrongEntityId":"SP から渡された entityId が設定値と異なります","fatal.noData":"メタデータが空です","fatal.loadFailed":"次の URL からメタデータをダウンロードできませんでした: ","fatal.noparms":"DSにパラメータが渡されておらず defaultReturn も設定されていません","fatal.noReturnURL":"戻り URL が指定されていません","fatal.badProtocol":"戻り URL は https:// か http:// で始まらなければなりません","idpPreferred.label":"選択候補の IdP:","idpEntry.label":"もしくはあなたの所属機関名を入力してください","idpEntry.NoPreferred.label":"あなたの所属機関名を入力してください","idpList.label":"もしくはあなたの所属機関を選択してください","idpList.NoPreferred.label":"あなたの所属機関を一覧から選択してください","idpList.defaultOptionLabel":"所属機関を選択してください...","idpList.showList":"一覧から選択する","idpList.showSearch":"機関名を入力する","submitButton.label":"選択",helpText:"Help",defaultLogoAlt:"DefaultLogo"},"pt-br":{"fatal.divMissing":'A tag <div> com "insertAtDiv" não foi encontrada no arquivo HTML',"fatal.noXMLHttpRequest":'Seu navegador não suporta "XMLHttpRequest", impossível de carregador os dados do IdP selecionado',"fatal.wrongProtocol":'A política "Policy" fornecida para o DS não foi "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId oferecido pelo SP não confere com o da configuração","fatal.noData":"O arquivo de metadados não retornou nada;","fatal.loadFailed":"Falhou ao realizar download do metadado de ","fatal.noparms":'Sem parâmetros para sessão de descoberta e sem parâmetro "defaultReturn" configurado',"fatal.noReturnURL":"Não foi definida um endereço (URL) de retorno no parâmetro","fatal.badProtocol":"Retorno do endereço requisitado deve começar com https:// ou http://","idpPreferred.label":"Use estas Instituições sugeridas: ","idpEntry.label":"Ou informe o nome da sua Instituição","idpEntry.NoPreferred.label":"Informe o nome da sua Instituição","idpList.label":"Ou selecione sua Instituição através da lista abaixo","idpList.NoPreferred.label":"Selecione sua Instituição através da lista abaixo","idpList.defaultOptionLabel":"Por favor, selecione sua Instituição: ","idpList.showList":"Permitir que eu escolha um IdP através de uma lista","idpList.showSearch":"Permitir que eu especifique o IdP","submitButton.label":"Continuar ",helpText:"Ajuda",defaultLogoAlt:"Logo padrão"}}}function TypeAheadControl(l,f,j,g,i,b,h,e,a,c,d,k){this.elementList=l;this.textBox=f;this.origin=j;this.submit=g;this.results=0;this.alwaysShow=c;this.maxResults=d;this.ie6hack=a;this.maxchars=i;this.getName=b;this.getEntityId=h;this.geticon=e;this.getKeywords=k}TypeAheadControl.prototype.draw=function(b){var a=this;this.dropDown=document.createElement("ul");this.dropDown.className="IdPSelectDropDown";this.dropDown.style.visibility="hidden";this.dropDown.style.width=this.textBox.offsetWidth;this.dropDown.current=-1;this.textBox.setAttribute("role","listbox");document.body.appendChild(this.dropDown);this.textBox.setAttribute("role","combobox");this.textBox.setAttribute("aria-controls","IdPSelectDropDown");this.textBox.setAttribute("aria-owns","IdPSelectDropDown");this.dropDown.onmouseover=function(c){if(!c){c=window.event}var d;if(c.target){d=c.target}if(typeof d=="undefined"){d=c.srcElement}a.select(d)};this.dropDown.onmousedown=function(c){if(-1!=a.dropDown.current){a.textBox.value=a.results[a.dropDown.current][0]}};this.textBox.onkeyup=function(c){if(!c){c=window.event}a.handleKeyUp(c)};this.textBox.onkeydown=function(c){if(!c){c=window.event}a.handleKeyDown(c)};this.textBox.onblur=function(){a.hideDrop()};this.textBox.onfocus=function(){a.handleChange()};if(null==b||b){this.textBox.focus()}};TypeAheadControl.prototype.getPossible=function(b){var h=[];var j=0;var f=0;var e=0;var g;var i;b=b.toLowerCase();while(f<=this.maxResults&&j<this.elementList.length){var a=false;var c=this.getName(this.elementList[j]);if(c.toLowerCase().indexOf(b)!=-1){a=true}if(!a&&this.getEntityId(this.elementList[j]).toLowerCase().indexOf(b)!=-1){a=true}if(!a){var d=this.getKeywords(this.elementList[j]);if(null!=d&&d.toLowerCase().indexOf(b)!=-1){a=true}}if(a){h[f]=[c,this.getEntityId(this.elementList[j]),this.geticon(this.elementList[j])];f++}j++}this.dropDown.current=-1;return h};TypeAheadControl.prototype.handleKeyUp=function(b){var a=b.keyCode;if(27==a){this.textBox.value="";this.handleChange()}else{if(8==a||32==a||(a>=46&&a<112)||a>123){this.handleChange()}}};TypeAheadControl.prototype.handleKeyDown=function(b){var a=b.keyCode;if(38==a){this.upSelect()}else{if(40==a){this.downSelect()}}};TypeAheadControl.prototype.hideDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="visible";a++}}this.dropDown.style.visibility="hidden";this.textBox.setAttribute("aria-expanded","false");if(-1==this.dropDown.current){this.doUnselected()}};TypeAheadControl.prototype.showDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="hidden";a++}}this.dropDown.style.visibility="visible";this.textBox.setAttribute("aria-expanded","true")};TypeAheadControl.prototype.doSelected=function(){this.submit.disabled=false};TypeAheadControl.prototype.doUnselected=function(){this.submit.disabled=true;this.textBox.setAttribute("aria-activedescendant","")};TypeAheadControl.prototype.handleChange=function(){var b=this.textBox.value;var a=this.getPossible(b);if(0===b.length||0===a.length||(!this.alwaysShow&&this.maxResults<a.length)){this.hideDrop();this.doUnselected();this.results=[];this.dropDown.current=-1}else{this.results=a;this.populateDropDown(a);if(1==a.length){this.select(this.dropDown.childNodes[0]);this.doSelected()}else{this.doUnselected()}}};TypeAheadControl.prototype.populateDropDown=function(d){this.dropDown.innerHTML="";var c=0;var a;var b;var f;while(c<d.length){a=document.createElement("li");a.id="IdPSelectOption"+c;f=d[c][0];if(null!==d[c][2]){b=document.createElement("img");b.src=d[c][2];b.width=16;b.height=16;b.alt="";a.appendChild(b);if(f.length>this.maxchars-2){f=f.substring(0,this.maxchars-2)}f=" "+f}else{if(f.length>this.maxchars){f=f.substring(0,this.maxchars)}}a.appendChild(document.createTextNode(f));a.setAttribute("role","option");this.dropDown.appendChild(a);c++}var e=this.getXY();this.dropDown.style.left=e[0]+"px";this.dropDown.style.top=e[1]+"px";this.showDrop()};TypeAheadControl.prototype.getXY=function(){var a=this.textBox;var c=0;var b=a.offsetHeight;while(a.tagName!="BODY"){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}c+=a.offsetLeft;b+=a.offsetTop;return[c,b]};TypeAheadControl.prototype.select=function(b){var a=0;var c;this.dropDown.current=-1;this.doUnselected();while(a<this.dropDown.childNodes.length){c=this.dropDown.childNodes[a];if(c==b){c.className="IdPSelectCurrent";c.setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+a);this.doSelected();this.dropDown.current=a;this.origin.value=this.results[a][1];this.origin.textValue=this.results[a][0]}else{c.setAttribute("aria-selected","false");c.className=""}a++}this.textBox.focus()};TypeAheadControl.prototype.downSelect=function(){if(this.results.length>0){if(-1==this.dropDown.current){this.dropDown.current=0;this.dropDown.childNodes[0].className="IdPSelectCurrent";this.dropDown.childNodes[0].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+0);this.doSelected();this.origin.value=this.results[0][1];this.origin.textValue=this.results[0][0]}else{if(this.dropDown.current<(this.results.length-1)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current++;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}}}};TypeAheadControl.prototype.upSelect=function(){if((this.results.length>0)&&(this.dropDown.current>0)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current--;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}};function IdPSelectUI(){var o;var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var aA;var M;var ar;var ae;var T;var d;var A;var l;var v;var i;var am;var f;var q;var U;var z;var Y;var L;var g;var F;var ak;var I;var N;var ac;var an;var ah;var c;var X;var B;var K;var O;var h;var ap;var P;var aC="idpSelect";var aa="IdPSelect";var ai;var y="";var S="";var aq=[];var ax="entityID";this.draw=function(aE){if(!k(aE)){return}aA=document.getElementById(aE.insertAtDiv);if(!aA){J(x("fatal.divMissing"));return}if(!e(aE.dataSource)){return}aB();r(aE.hiddenIdPs);o.sort(function(aG,aF){return av(aG).localeCompare(av(aF))});var aD=V();aA.appendChild(aD);ai.draw(aE.setFocusTextBox)};var k=function(aD){var aO;z=aD.preferredIdP;Y=aD.maxPreferredIdPs;L=aD.helpURL;g=aD.ie6Hack;F=aD.samlIdPCookieTTL;ac=aD.alwaysShow;an=aD.maxResults;ah=aD.ignoreKeywords;if(aD.showListFirst){c=aD.showListFirst}else{c=false}if(aD.noWriteCookie){X=aD.noWriteCookie}else{X=false}if(aD.ignoreURLParams){B=aD.ignoreURLParams}else{B=false}A=aD.defaultLogo;l=aD.defaultLogoWidth;v=aD.defaultLogoHeight;i=aD.minWidth;am=aD.minHeight;f=aD.maxWidth;q=aD.maxHeight;U=aD.bestRatio;I=aD.maxIdPCharsButton;ak=aD.maxIdPCharsDropDown;N=aD.maxIdPCharsAltTxt;var aE;if(typeof navigator=="undefined"){aE=aD.defaultLanguage}else{aE=navigator.language||navigator.userLanguage||aD.defaultLanguage}aE=aE.toLowerCase();if(aE.indexOf("-")>0){ar=aE.substring(0,aE.indexOf("-"))}var aP=new IdPSelectLanguages();ae=aD.defaultLanguage;if(typeof aD.langBundles!="undefined"&&typeof aD.langBundles[aE]!="undefined"){T=aD.langBundles[aE]}else{if(typeof aP.langBundles[aE]!="undefined"){T=aP.langBundles[aE]}else{if(typeof ar!="undefined"){if(typeof aD.langBundles!="undefined"&&typeof aD.langBundles[ar]!="undefined"){T=aD.langBundles[ar]}else{if(typeof aP.langBundles[ar]!="undefined"){T=aP.langBundles[ar]}}}}}if(typeof aD.langBundles!="undefined"&&typeof aD.langBundles[aD.defaultLanguage]!="undefined"){d=aD.langBundles[aD.defaultLanguage]}else{d=aP.langBundles[aD.defaultLanguage]}if(!d){J("No languages work");return false}if(!T){p("No language support for "+aE);T=d}if(aD.testGUI){return true}var aK="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single";var aG;var aF=false;var aM;var aL;var aI=window;while(null!==aI.parent&&aI!==aI.parent){aI=aI.parent}var aH=aI.location;var aJ=aH.search;if(B||null==aJ||0==aJ.length||aJ.charAt(0)!="?"){if((null==aD.defaultReturn)&&!B){J(x("fatal.noparms"));return false}aO=aD.myEntityID;y=aD.defaultReturn;if(null!=aD.defaultReturnIDParam){ax=aD.defaultReturnIDParam}}else{aJ=aJ.substring(1);aM=aJ.split("&");if(aM.length===0){J(x("fatal.noparms"));return false}for(aG=0;aG<aM.length;aG++){aL=aM[aG].split("=");if(aL.length!=2){continue}if(aL[0]=="entityID"){aO=decodeURIComponent(aL[1])}else{if(aL[0]=="return"){y=decodeURIComponent(aL[1])}else{if(aL[0]=="returnIDParam"){ax=decodeURIComponent(aL[1])}else{if(aL[0]=="policy"){aK=decodeURIComponent(aL[1])}else{if(aL[0]=="isPassive"){aF=(aL[1].toUpperCase()=="TRUE")}}}}}}}if(aK!="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"){J(x("fatal.wrongProtocol"));return false}if(aD.myEntityID!==null&&aD.myEntityID!=aO){J(x("fatal.wrongEntityId")+'"'+aO+'" != "'+aD.myEntityID+'"');return false}if(null===y||y.length===0){J(x("fatal.noReturnURL"));return false}if(!af(y)){J(x("fatal.badProtocol"));return false}if(aF){var aQ=b();if(aQ.length==0){location.href=y;return false}else{var aN=ax+"="+encodeURIComponent(aQ[0]);if(y.indexOf("?")==-1){aN="?"+aN}else{aN="&"+aN}location.href=y+aN;return false}}aG=y.indexOf("?");if(aG<0){S=y;return true}S=y.substring(0,aG);aJ=y.substring(aG+1);aM=aJ.split("&");for(aG=0;aG<aM.length;aG++){aL=aM[aG].split("=");if(aL.length!=2){continue}aL[1]=decodeURIComponent(aL[1]);aq.push(aL)}return true};var aB=function(){var aF=[];var aE;for(aE=0;aE<o.length;){var aD=w(o[aE]);if(null==aF[aD]){aF[aD]=aD;aE=aE+1}else{o.splice(aE,1)}}};var r=function(aF){if(null==aF||0==aF.length){return}var aE;var aD;for(aE=0;aE<aF.length;aE++){for(aD=0;aD<o.length;aD++){if(w(o[aD])==aF[aE]){o.splice(aD,1);break}}}};var af=function(aE){if(null===aE){return false}var aD="://";var aF=aE.indexOf(aD);if(aF<0){return false}aE=aE.substring(0,aF);if(aE=="http"||aE=="https"){return true}return false};var az=function(){if(null==navigator){return false}var aD=navigator.appName;if(null==aD){return false}return(aD=="Microsoft Internet Explorer")};var e=function(aG){var aF=null;try{aF=new XMLHttpRequest()}catch(aE){}if(null==aF){try{aF=new ActiveXObject("Microsoft.XMLHTTP")}catch(aE){}}if(null==aF){try{aF=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(aE){}}if(null==aF){J(x("fatal.noXMLHttpRequest"));return false}if(az()){aG+="?random="+(Math.random()*1000000)}aF.open("GET",aG,false);if(typeof aF.overrideMimeType=="function"){aF.overrideMimeType("application/json")}aF.send(null);if(aF.status==200){var aD=aF.responseText;if(aD===null){J(x("fatal.noData"));return false}o=JSON.parse(aD)}else{J(x("fatal.loadFailed")+aG);return false}return true};var W=function(aD){for(var aE=0;aE<o.length;aE++){if(w(o[aE])==aD){return o[aE]}}return null};var C=function(aK,aE){var aJ=function(aN){var aL=null;var aM;if(null==aK.Logos){return null}for(aM in aK.Logos){if(aK.Logos[aM].lang==aN&&aK.Logos[aM].width!=null&&aK.Logos[aM].width>=i&&aK.Logos[aM].height!=null&&aK.Logos[aM].height>=am){if(aL===null){aL=aK.Logos[aM]}else{me=Math.abs(U-Math.log(aK.Logos[aM].width/aK.Logos[aM].height));him=Math.abs(U-Math.log(aL.width/aL.height));if(him>me){aL=aK.Logos[aM]}}}}return aL};var aG=null;var aF=document.createElement("img");ad(aF,"IdPImg");aG=aJ(M);if(null===aG&&typeof ar!="undefined"){aG=aJ(ar)}if(null===aG){aG=aJ(null)}if(null===aG){aG=aJ(ae)}if(null===aG){if(!aE){return null}aF.src=A;aF.width=l;aF.height=v;aF.alt=x("defaultLogoAlt");return aF}aF.src=aG.value;var aH=av(aK);if(aH.length>N){aH=aH.substring(0,N)+"..."}aF.alt=aH;var aD=aG.width;var aI=aG.height;if(aD>f){aI=(f/aD)*aI;aD=f}if(aI>q){aD=(q/aI)*aD;aD=q}aF.setAttribute("width",aD);aF.setAttribute("height",aI);return aF};var V=function(){var aE=ag("IdPSelector");var aD;aD=at(aE);m(aE,aD);R(aE,aD);return aE};var H=function(aF,aM,aE){var aD=ag(undefined,"PreferredIdPButton");var aL=document.createElement("a");var aK=ax+"="+encodeURIComponent(w(aF));var aG=y;var aI=C(aF,aE);if(aG.indexOf("?")==-1){aK="?"+aK}else{aK="&"+aK}aL.href=aG+aK;aL.onclick=function(){ay(w(aF))};if(null!=aI){var aN=ag(undefined,"PreferredIdPImg");aN.appendChild(aI);aL.appendChild(aN)}var aJ=ag(undefined,"TextDiv");var aH=av(aF);if(aH.length>I){aH=aH.substring(0,I)+"..."}aD.title=aH;aJ.appendChild(document.createTextNode(aH));aL.appendChild(aJ);aD.appendChild(aL);return aD};var aw=function(aD,aG){var aF=ag(undefined,"TextDiv");var aE=document.createTextNode(x(aG));aF.appendChild(aE);aD.appendChild(aF)};var a=function(aD,aF){if(null===aF||0===aF.length||"-"==aF.value){return}var aE=0;while(aE<aD.options.length){if(aD.options[aE].value==aF){aD.options[aE].selected=true;break}aE++}};var at=function(aI){var aH=G();if(0===aH.length){return false}var aD=false;for(var aF=0;aF<Y&&aF<aH.length;aF++){if(aH[aF]&&C(aH[aF],false)){aD=true}}var aG;if(aD){aG=ag("PreferredIdPTile")}else{aG=ag("PreferredIdPTileNoImg")}aw(aG,"idpPreferred.label");for(var aF=0;aF<Y&&aF<aH.length;aF++){if(aH[aF]){var aE=H(aH[aF],aF,aD);aG.appendChild(aE)}}aI.appendChild(aG);return true};var Z=function(){var aE=document.createElement("form");O.appendChild(aE);aE.action=S;aE.method="GET";aE.setAttribute("autocomplete","OFF");var aD=0;for(aD=0;aD<aq.length;aD++){var aF=document.createElement("input");aF.setAttribute("type","hidden");aF.name=aq[aD][0];aF.value=aq[aD][1];aE.appendChild(aF)}return aE};var m=function(aK,aE){O=ag("IdPEntryTile");if(c){O.style.display="none"}var aF=document.createElement("label");aF.setAttribute("for",aC+"Input");if(aE){aw(aF,"idpEntry.label")}else{aw(aF,"idpEntry.NoPreferred.label")}var aI=Z();aI.appendChild(aF);var aH=document.createElement("input");aI.appendChild(aH);aH.type="text";j(aH,"Input");var aJ=document.createElement("input");aJ.setAttribute("type","hidden");aI.appendChild(aJ);aJ.name=ax;aJ.value="-";var aG=s("Select");aG.disabled=true;aI.appendChild(aG);aI.onsubmit=function(){if(null===aJ.value||0===aJ.value.length||"-"==aJ.value){return false}aH.value=aJ.textValue;ay(aJ.value);return true};ai=new TypeAheadControl(o,aH,aJ,aG,ak,av,w,ab,g,ac,an,D);var aD=document.createElement("a");aD.appendChild(document.createTextNode(x("idpList.showList")));aD.href="#";ad(aD,"DropDownToggle");aD.onclick=function(){O.style.display="none";a(ap,aJ.value);h.style.display="inline";P.focus();return false};O.appendChild(aD);u(O);aK.appendChild(O)};var R=function(aD,aG){h=ag("IdPListTile");if(!c){h.style.display="none"}var aK=document.createElement("label");aK.setAttribute("for",aC+"Selector");if(aG){aw(aK,"idpList.label")}else{aw(aK,"idpList.NoPreferred.label")}ap=document.createElement("select");j(ap,"Selector");ap.name=ax;h.appendChild(ap);var aL=n("-",x("idpList.defaultOptionLabel"));aL.selected=true;ap.appendChild(aL);var aF;for(var aH=0;aH<o.length;aH++){aF=o[aH];aL=n(w(aF),av(aF));ap.appendChild(aL)}var aE=Z();aE.appendChild(aK);aE.appendChild(ap);aE.onsubmit=function(){if(ap.selectedIndex<1){return false}ay(ap.options[ap.selectedIndex].value);return true};var aI=s("List");P=aI;aE.appendChild(aI);h.appendChild(aE);var aJ=document.createElement("a");aJ.appendChild(document.createTextNode(x("idpList.showSearch")));aJ.href="#";ad(aJ,"DropDownToggle");aJ.onclick=function(){O.style.display="inline";h.style.display="none";return false};h.appendChild(aJ);u(h);aD.appendChild(h)};var s=function(aE){var aD=document.createElement("input");aD.setAttribute("type","submit");aD.value=x("submitButton.label");j(aD,aE+"Button");return aD};var u=function(aE){var aD=document.createElement("a");aD.href=L;aD.appendChild(document.createTextNode(x("helpText")));ad(aD,"HelpButton");aE.appendChild(aD)};var ag=function(aF,aD){var aE=document.createElement("div");if(undefined!==aF){j(aE,aF)}if(undefined!==aD){ad(aE,aD)}return aE};var n=function(aE,aF){var aD=document.createElement("option");aD.value=aE;if(aF.length>ak){aF=aF.substring(0,ak)}aD.appendChild(document.createTextNode(aF));return aD};var j=function(aE,aD){aE.id=aC+aD};var ad=function(aE,aD){aE.setAttribute("class",aa+aD)};var au=function(aD){return document.getElementById(aC+aD)};var ay=function(aD){E(aD);aj(K)};var x=function(aD){var aE=T[aD];if(!aE){aE=d[aD]}if(!aE){aE="Missing message for "+aD}return aE};var w=function(aD){return aD.entityID};var ab=function(aF){var aD;if(null==aF.Logos){return null}for(aD=0;aD<aF.Logos.length;aD++){var aE=aF.Logos[aD];if(aE.height=="16"&&aE.width=="16"){if(null==aE.lang||M==aE.lang||(typeof ar!="undefined"&&ar==aE.lang)||ae==aE.lang){return aE.value}}}return null};var av=function(aE){var aD=ao(aE.DisplayNames);if(null!==aD){return aD}p("No Name entry in any language for "+w(aE));return w(aE)};var D=function(aE){if(ah||null==aE.Keywords){return null}var aD=ao(aE.Keywords);return aD};var ao=function(aD){var aE;for(aE in aD){if(aD[aE].lang==M){return aD[aE].value}}if(typeof ar!="undefined"){for(aE in aD){if(aD[aE].lang==ar){return aD[aE].value}}}for(aE in aD){if(aD[aE].lang==null){return aD[aE].value}}for(aE in aD){if(aD[aE].lang==ae){return aD[aE].value}}return null};var G=function(){var aG=[];var aF=0;var aE;var aD;if(null!=z){for(aE=0;aE<z.length&&aE<Y-1;aE++){aG[aE]=W(z[aE]);aF++}}K=b();for(aE=aF,aD=0;aE<K.length&&aE<Y;aE++,aD++){aG.push(W(K[aD]))}return aG};var E=function(aD){var aE=[];while(0!==K.length){var aF=K.pop();if(aF!=aD){aE.unshift(aF)}}aE.unshift(aD);K=aE;return};var b=function(){var aJ=[];var aI,aG;var aL;aL=document.cookie.split(";");for(aI=0;aI<aL.length;aI++){var aD=aL[aI];var aH=aD.indexOf("=");var aK=aD.substring(0,aH);var aF=aD.substring(aH+1);if("_saml_idp"==aK.replace(/^\s+|\s+$/g,"")){aF=aF.replace(/^\s+|\s+$/g,"");aF=aF.replace("+","%20");aF=aF.split("%20");for(aG=aF.length;aG>0;aG--){if(0===aF[aG-1].length){continue}var aE=al(decodeURIComponent(aF[aG-1]));if(aE.length>0){aJ.push(aE)}}}}return aJ};var aj=function(aI){var aF=[];var aH=aI.length;if(X){return}if(aH>5){aH=5}for(var aG=aH;aG>0;aG--){if(aI[aG-1].length>0){aF.push(encodeURIComponent(t(aI[aG-1])))}}var aD=null;if(F){var aE=new Date();cookieTTL=F*24*60*60*1000;aD=new Date(aE.getTime()+cookieTTL)}document.cookie="_saml_idp="+aF.join("%20")+"; path = /"+((aD===null)?"":"; expires="+aD.toUTCString())};var t=function(aM){var aD="",aH,aF,aE,aL,aK,aJ,aI;for(var aG=0;aG<aM.length;){aH=aM.charCodeAt(aG++);aF=aM.charCodeAt(aG++);aE=aM.charCodeAt(aG++);aL=aH>>2;aK=((aH&3)<<4)+(aF>>4);aJ=((aF&15)<<2)+(aE>>6);aI=aE&63;if(isNaN(aF)){aJ=aI=64}else{if(isNaN(aE)){aI=64}}aD+=Q.charAt(aL)+Q.charAt(aK)+Q.charAt(aJ)+Q.charAt(aI)}return aD};var al=function(aG){var aE="",aN,aL,aJ,aM,aK,aI,aH;var aF=0;var aD=/[^A-Za-z0-9\+\/\=]/g;aG=aG.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{aM=Q.indexOf(aG.charAt(aF++));aK=Q.indexOf(aG.charAt(aF++));aI=Q.indexOf(aG.charAt(aF++));aH=Q.indexOf(aG.charAt(aF++));aN=(aM<<2)|(aK>>4);aL=((aK&15)<<4)|(aI>>2);aJ=((aI&3)<<6)|aH;aE=aE+String.fromCharCode(aN);if(aI!=64){aE=aE+String.fromCharCode(aL)}if(aH!=64){aE=aE+String.fromCharCode(aJ)}aN=aL=aJ="";aM=aK=aI=aH=""}while(aF<aG.length);return aE};var J=function(aE){alert("FATAL - DISCO UI:"+aE);var aD=document.createTextNode(aE);aA.appendChild(aD)};var p=function(){}}(new IdPSelectUI()).draw(new IdPSelectUIParms());